# Generated by Django 6.0.1 on 2026-01-11 01:19

import apps.common.models
import django.contrib.postgres.fields
import django.db.models.deletion
import django.utils.timezone
import pgtrigger.compiler
import pgtrigger.migrations
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('contenttypes', '0002_remove_content_type_name'),
        ('pghistory', '0007_auto_20250421_0444'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Announcement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, unique=True, verbose_name='Title')),
                ('body', models.TextField(verbose_name='Body')),
                ('public', models.BooleanField(default=True, verbose_name='Public')),
                ('pinned', models.BooleanField(default=False, verbose_name='Pinned')),
            ],
            options={
                'verbose_name': 'Announcement',
                'verbose_name_plural': 'Announcements',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('path', models.CharField(max_length=255, unique=True)),
                ('depth', models.PositiveIntegerField()),
                ('numchild', models.PositiveIntegerField(default=0)),
                ('name', models.CharField(max_length=100, verbose_name='Name')),
                ('ancestors', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=200, verbose_name='Ancestors'), editable=False)),
            ],
            options={
                'verbose_name': 'Category',
                'verbose_name_plural': 'Categories',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='CategoryEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('path', models.CharField(max_length=255)),
                ('depth', models.PositiveIntegerField()),
                ('numchild', models.PositiveIntegerField(default=0)),
                ('name', models.CharField(max_length=100, verbose_name='Name')),
                ('ancestors', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=200, verbose_name='Ancestors'), editable=False)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Comment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('comment', models.TextField(max_length=5000, verbose_name='Comment')),
                ('pinned', models.BooleanField(default=False, verbose_name='Pinned')),
                ('deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('rating', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='Rating')),
            ],
            options={
                'verbose_name': 'Comment',
                'verbose_name_plural': 'Comments',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='CommentEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('comment', models.TextField(max_length=5000, verbose_name='Comment')),
                ('pinned', models.BooleanField(default=False, verbose_name='Pinned')),
                ('deleted', models.BooleanField(default=False, verbose_name='Deleted')),
                ('rating', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='Rating')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='FAQ',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, unique=True, verbose_name='Name')),
                ('description', models.TextField(blank=True, default='', verbose_name='Description')),
            ],
            options={
                'verbose_name': 'FAQ',
                'verbose_name_plural': 'FAQs',
            },
        ),
        migrations.CreateModel(
            name='FAQEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('name', models.CharField(max_length=255, verbose_name='Name')),
                ('description', models.TextField(blank=True, default='', verbose_name='Description')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='FAQItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('ordering', models.PositiveSmallIntegerField(db_index=True, default=0, verbose_name='Ordering')),
                ('question', models.CharField(max_length=255, verbose_name='Question')),
                ('answer', models.TextField(verbose_name='Answer')),
                ('active', models.BooleanField(default=True, verbose_name='Active')),
            ],
            options={
                'verbose_name': 'FAQ',
                'verbose_name_plural': 'FAQs',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='FAQItemEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('ordering', models.PositiveSmallIntegerField(default=0, verbose_name='Ordering')),
                ('question', models.CharField(max_length=255, verbose_name='Question')),
                ('answer', models.TextField(verbose_name='Answer')),
                ('active', models.BooleanField(default=True, verbose_name='Active')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='HonorCode',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, unique=True, verbose_name='Title')),
                ('code', models.TextField(verbose_name='Code')),
            ],
            options={
                'verbose_name': 'Honor Code',
                'verbose_name_plural': 'Honor Codes',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='HonorCodeEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('code', models.TextField(verbose_name='Code')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Inquiry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('question', models.TextField(verbose_name='Question')),
                ('content_id', models.CharField(db_index=True, max_length=36, verbose_name='Content ID')),
            ],
            options={
                'verbose_name': 'Inquiry',
                'verbose_name_plural': 'Inquiries',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='InquiryEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('question', models.TextField(verbose_name='Question')),
                ('content_id', models.CharField(max_length=36, verbose_name='Content ID')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='InquiryResponse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('answer', models.TextField(verbose_name='Answer')),
                ('solved', apps.common.models.BooleanNowField(blank=True, null=True, verbose_name='Solved')),
            ],
            options={
                'verbose_name': 'Inquiry Response',
                'verbose_name_plural': 'Inquiry Responses',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='InquiryResponseEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('answer', models.TextField(verbose_name='Answer')),
                ('solved', apps.common.models.BooleanNowField(blank=True, null=True, verbose_name='Solved')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Instructor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('name', models.CharField(max_length=50, verbose_name='Name')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='Email')),
                ('about', models.TextField(verbose_name='About')),
                ('bio', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=200), verbose_name='Bio')),
                ('avatar', models.ImageField(blank=True, null=True, upload_to='', verbose_name='Avatar')),
                ('active', models.BooleanField(default=True, verbose_name='Active')),
            ],
            options={
                'verbose_name': 'Instructor',
                'verbose_name_plural': 'Instructors',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='InstructorEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('name', models.CharField(max_length=50, verbose_name='Name')),
                ('email', models.EmailField(max_length=254, verbose_name='Email')),
                ('about', models.TextField(verbose_name='About')),
                ('bio', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=200), verbose_name='Bio')),
                ('avatar', models.ImageField(blank=True, null=True, upload_to='', verbose_name='Avatar')),
                ('active', models.BooleanField(default=True, verbose_name='Active')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Message',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('channel', models.CharField(choices=[('email', 'Email'), ('text', 'Text'), ('fcm', 'FCM')], max_length=20, verbose_name='Channel')),
                ('group', models.CharField(blank=True, default='', max_length=255, verbose_name='Group')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('body', models.TextField(verbose_name='Body')),
                ('data', models.JSONField(blank=True, default=dict, verbose_name='Data')),
                ('recipients', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=255), verbose_name='Recipient Addresses')),
                ('reserved', models.DateTimeField(blank=True, null=True, verbose_name='Reserved')),
                ('sent', models.DateTimeField(blank=True, null=True, verbose_name='Sent')),
                ('read', models.DateTimeField(blank=True, null=True, verbose_name='Read')),
                ('error', models.TextField(blank=True, default='', verbose_name='Error')),
            ],
            options={
                'verbose_name': 'Message',
                'verbose_name_plural': 'Messages',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='MessageEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('channel', models.CharField(choices=[('email', 'Email'), ('text', 'Text'), ('fcm', 'FCM')], max_length=20, verbose_name='Channel')),
                ('group', models.CharField(blank=True, default='', max_length=255, verbose_name='Group')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('data', models.JSONField(blank=True, default=dict, verbose_name='Data')),
                ('recipients', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=255), verbose_name='Recipient Addresses')),
                ('reserved', models.DateTimeField(blank=True, null=True, verbose_name='Reserved')),
                ('sent', models.DateTimeField(blank=True, null=True, verbose_name='Sent')),
                ('read', models.DateTimeField(blank=True, null=True, verbose_name='Read')),
                ('error', models.TextField(blank=True, default='', verbose_name='Error')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Policy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('kind', models.CharField(choices=[('terms_of_service', 'Terms of Service'), ('privacy_policy', 'Privacy Policy'), ('cookie_policy', 'Cookie Policy'), ('marketing_policy', 'Marketing Policy'), ('data_retention_policy', 'Data Retention Policy')], max_length=30, unique=True, verbose_name='Kind')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('description', models.TextField(blank=True, default='', verbose_name='Description')),
                ('active', models.BooleanField(default=True, verbose_name='Active')),
                ('mandatory', models.BooleanField(default=True, verbose_name='Mandatory')),
                ('show_on_join', models.BooleanField(default=True, verbose_name='Show on Join')),
                ('priority', models.PositiveSmallIntegerField(verbose_name='Priority')),
            ],
            options={
                'verbose_name': 'Policy',
                'verbose_name_plural': 'Policies',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PolicyAgreement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('accepted', models.BooleanField(blank=True, null=True, verbose_name='Accepted')),
            ],
            options={
                'verbose_name': 'Policy Agreement',
                'verbose_name_plural': 'Policy Agreements',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PolicyAgreementEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('accepted', models.BooleanField(blank=True, null=True, verbose_name='Accepted')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PolicyEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('kind', models.CharField(choices=[('terms_of_service', 'Terms of Service'), ('privacy_policy', 'Privacy Policy'), ('cookie_policy', 'Cookie Policy'), ('marketing_policy', 'Marketing Policy'), ('data_retention_policy', 'Data Retention Policy')], max_length=30, verbose_name='Kind')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('description', models.TextField(blank=True, default='', verbose_name='Description')),
                ('active', models.BooleanField(default=True, verbose_name='Active')),
                ('mandatory', models.BooleanField(default=True, verbose_name='Mandatory')),
                ('show_on_join', models.BooleanField(default=True, verbose_name='Show on Join')),
                ('priority', models.PositiveSmallIntegerField(verbose_name='Priority')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PolicyVersion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('body', models.TextField(verbose_name='Body')),
                ('data_category', models.JSONField(blank=True, default=dict, verbose_name='Data Category')),
                ('version', models.CharField(max_length=20, verbose_name='Version')),
                ('effective_date', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Effective Date')),
            ],
            options={
                'verbose_name': 'Policy Version',
                'verbose_name_plural': 'Policy Versions',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='PolicyVersionEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('body', models.TextField(verbose_name='Body')),
                ('data_category', models.JSONField(blank=True, default=dict, verbose_name='Data Category')),
                ('version', models.CharField(max_length=20, verbose_name='Version')),
                ('effective_date', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Effective Date')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Tag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='name')),
                ('slug', models.SlugField(allow_unicode=True, max_length=100, unique=True, verbose_name='slug')),
            ],
            options={
                'verbose_name': 'Tag',
                'verbose_name_plural': 'Tags',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='TagEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('name', models.CharField(max_length=100, verbose_name='name')),
                ('slug', models.SlugField(allow_unicode=True, db_index=False, max_length=100, verbose_name='slug')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='TaggedItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('object_id', models.CharField(max_length=36, verbose_name='Object ID')),
            ],
            options={
                'verbose_name': 'Tagged Item',
                'verbose_name_plural': 'Tagged Items',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='TaggedItemEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('object_id', models.CharField(max_length=36, verbose_name='Object ID')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Thread',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('description', models.TextField(blank=True, default='', verbose_name='Description')),
                ('subject_id', models.CharField(max_length=36, verbose_name='Subject ID')),
                ('comment_count', models.PositiveIntegerField(default=0, verbose_name='Comment Count')),
                ('rating_count', models.PositiveIntegerField(default=0, verbose_name='Rating Count')),
                ('rating_sum', models.PositiveIntegerField(default=0, verbose_name='Rating Sum')),
                ('rating_avg', models.FloatField(default=0, verbose_name='Rating Average')),
                ('closed', apps.common.models.BooleanNowField(blank=True, null=True, verbose_name='Closed')),
            ],
            options={
                'verbose_name': 'Thread',
                'verbose_name_plural': 'Threads',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='ThreadEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('description', models.TextField(blank=True, default='', verbose_name='Description')),
                ('subject_id', models.CharField(max_length=36, verbose_name='Subject ID')),
                ('comment_count', models.PositiveIntegerField(default=0, verbose_name='Comment Count')),
                ('rating_count', models.PositiveIntegerField(default=0, verbose_name='Rating Count')),
                ('rating_sum', models.PositiveIntegerField(default=0, verbose_name='Rating Sum')),
                ('rating_avg', models.FloatField(default=0, verbose_name='Rating Average')),
                ('closed', apps.common.models.BooleanNowField(blank=True, null=True, verbose_name='Closed')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='AnnouncementEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('title', models.CharField(max_length=255, verbose_name='Title')),
                ('body', models.TextField(verbose_name='Body')),
                ('public', models.BooleanField(default=True, verbose_name='Public')),
                ('pinned', models.BooleanField(default=False, verbose_name='Pinned')),
                ('pgh_context', models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context')),
                ('pgh_obj', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.announcement')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='AnnouncementRead',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('read', models.DateTimeField(auto_now_add=True, verbose_name='Read at')),
                ('announcement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operation.announcement', verbose_name='Announcement')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'Announcement Read',
                'verbose_name_plural': 'Announcement Reads',
            },
        ),
        migrations.AddField(
            model_name='announcement',
            name='reads',
            field=models.ManyToManyField(blank=True, through='operation.AnnouncementRead', to=settings.AUTH_USER_MODEL, verbose_name='Reads'),
        ),
        migrations.CreateModel(
            name='AnnouncementReadEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('read', models.DateTimeField(auto_now_add=True, verbose_name='Read at')),
                ('announcement', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.announcement', verbose_name='Announcement')),
                ('pgh_context', models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context')),
                ('pgh_obj', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.announcementread')),
                ('user', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Appeal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('explanation', models.TextField(verbose_name='Explanation')),
                ('review', models.TextField(blank=True, default='', verbose_name='Review')),
                ('closed', apps.common.models.BooleanNowField(blank=True, null=True, verbose_name='Closed')),
                ('question_id', models.IntegerField(verbose_name='Question ID')),
                ('learner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Learner')),
                ('question_type', models.ForeignKey(limit_choices_to={'model__in': ['question']}, on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype', verbose_name='Question Type')),
            ],
            options={
                'verbose_name': 'Grade Appeal',
                'verbose_name_plural': 'Grade Appeals',
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='AppealEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('explanation', models.TextField(verbose_name='Explanation')),
                ('review', models.TextField(blank=True, default='', verbose_name='Review')),
                ('closed', apps.common.models.BooleanNowField(blank=True, null=True, verbose_name='Closed')),
                ('question_id', models.IntegerField(verbose_name='Question ID')),
                ('learner', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Learner')),
                ('pgh_context', models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context')),
                ('pgh_obj', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.appeal')),
                ('question_type', models.ForeignKey(db_constraint=False, limit_choices_to={'model__in': ['question']}, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='contenttypes.contenttype', verbose_name='Question Type')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Attachment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', models.DateTimeField(auto_now_add=True, db_index=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, db_index=True, verbose_name='Modified')),
                ('file', models.FileField(max_length=255, unique=True, upload_to='', verbose_name='File')),
                ('size', models.IntegerField(blank=True, null=True, verbose_name='Size')),
                ('mime_type', models.CharField(max_length=100, verbose_name='Mime Type')),
                ('hash', models.CharField(db_index=True, max_length=64)),
                ('deleted', models.DateTimeField(blank=True, null=True, verbose_name='Deleted')),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Owner')),
            ],
            options={
                'verbose_name': 'Attachment',
                'verbose_name_plural': 'Attachments',
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='appeal',
            name='attachments',
            field=models.ManyToManyField(blank=True, related_name='+', to='operation.attachment', verbose_name='Attachments'),
        ),
        migrations.CreateModel(
            name='AttachmentEvent',
            fields=[
                ('pgh_id', models.AutoField(primary_key=True, serialize=False)),
                ('pgh_created_at', models.DateTimeField(auto_now_add=True)),
                ('pgh_label', models.TextField(help_text='The event label.')),
                ('id', models.BigIntegerField()),
                ('created', models.DateTimeField(auto_now_add=True, verbose_name='Created')),
                ('modified', models.DateTimeField(auto_now=True, verbose_name='Modified')),
                ('file', models.FileField(max_length=255, upload_to='', verbose_name='File')),
                ('size', models.IntegerField(blank=True, null=True, verbose_name='Size')),
                ('mime_type', models.CharField(max_length=100, verbose_name='Mime Type')),
                ('hash', models.CharField(max_length=64)),
                ('deleted', models.DateTimeField(blank=True, null=True, verbose_name='Deleted')),
                ('owner', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Owner')),
                ('pgh_context', models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context')),
                ('pgh_obj', models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.attachment')),
            ],
            options={
                'abstract': False,
            },
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='category',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_categoryevent" ("ancestors", "depth", "id", "name", "numchild", "path", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (NEW."ancestors", NEW."depth", NEW."id", NEW."name", NEW."numchild", NEW."path", _pgh_attach_context(), NOW(), \'insert\', NEW."id"); RETURN NULL;', hash='c74eaa81789bf0b7bf49bab3000709e88505c2ca', operation='INSERT', pgid='pgtrigger_insert_insert_b6919', table='operation_category', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='category',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD.* IS DISTINCT FROM NEW.*)', func='INSERT INTO "operation_categoryevent" ("ancestors", "depth", "id", "name", "numchild", "path", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (NEW."ancestors", NEW."depth", NEW."id", NEW."name", NEW."numchild", NEW."path", _pgh_attach_context(), NOW(), \'update\', NEW."id"); RETURN NULL;', hash='a141bd0c319d48c2d3deadfbd3239c1b9a152f89', operation='UPDATE', pgid='pgtrigger_update_update_98221', table='operation_category', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='category',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_categoryevent" ("ancestors", "depth", "id", "name", "numchild", "path", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (OLD."ancestors", OLD."depth", OLD."id", OLD."name", OLD."numchild", OLD."path", _pgh_attach_context(), NOW(), \'delete\', OLD."id"); RETURN NULL;', hash='7e98679c067798a10a7a756beec13c726bf68d95', operation='DELETE', pgid='pgtrigger_delete_delete_41ae2', table='operation_category', when='AFTER')),
        ),
        migrations.AddField(
            model_name='categoryevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='categoryevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.category'),
        ),
        migrations.AddField(
            model_name='comment',
            name='attachments',
            field=models.ManyToManyField(blank=True, related_name='+', to='operation.attachment', verbose_name='Attachments'),
        ),
        migrations.AddField(
            model_name='comment',
            name='parent',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='operation.comment', verbose_name='Parent'),
        ),
        migrations.AddField(
            model_name='comment',
            name='writer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Writer'),
        ),
        migrations.AddField(
            model_name='commentevent',
            name='parent',
            field=models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.comment', verbose_name='Parent'),
        ),
        migrations.AddField(
            model_name='commentevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='commentevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.comment'),
        ),
        migrations.AddField(
            model_name='commentevent',
            name='writer',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Writer'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faq',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_faqevent" ("description", "id", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (NEW."description", NEW."id", NEW."name", _pgh_attach_context(), NOW(), \'insert\', NEW."id"); RETURN NULL;', hash='6d77a4c0a3edffb8c0f3f938538d3961f117fc37', operation='INSERT', pgid='pgtrigger_insert_insert_2b5c5', table='operation_faq', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faq',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD.* IS DISTINCT FROM NEW.*)', func='INSERT INTO "operation_faqevent" ("description", "id", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (NEW."description", NEW."id", NEW."name", _pgh_attach_context(), NOW(), \'update\', NEW."id"); RETURN NULL;', hash='3c40a6d121101c2b253492f4404780ea06dac64e', operation='UPDATE', pgid='pgtrigger_update_update_b353d', table='operation_faq', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faq',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_faqevent" ("description", "id", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (OLD."description", OLD."id", OLD."name", _pgh_attach_context(), NOW(), \'delete\', OLD."id"); RETURN NULL;', hash='6b3df2c0c8df0014e3bb630c749e328a95e7e3e0', operation='DELETE', pgid='pgtrigger_delete_delete_91180', table='operation_faq', when='AFTER')),
        ),
        migrations.AddField(
            model_name='faqevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='faqevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.faq'),
        ),
        migrations.AddField(
            model_name='faqitem',
            name='faq',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operation.faq', verbose_name='FAQ'),
        ),
        migrations.AddField(
            model_name='faqitemevent',
            name='faq',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.faq', verbose_name='FAQ'),
        ),
        migrations.AddField(
            model_name='faqitemevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='faqitemevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.faqitem'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='honorcode',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_honorcodeevent" ("code", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "title") VALUES (NEW."code", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."title"); RETURN NULL;', hash='0e557ce5820a17101899259bf6fe1f0f87b9b0c8', operation='INSERT', pgid='pgtrigger_insert_insert_c3e0b', table='operation_honorcode', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='honorcode',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."code" IS DISTINCT FROM (NEW."code") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."title" IS DISTINCT FROM (NEW."title"))', func='INSERT INTO "operation_honorcodeevent" ("code", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "title") VALUES (NEW."code", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."title"); RETURN NULL;', hash='908a085a821dd03a476453f4be9325f9cffa6837', operation='UPDATE', pgid='pgtrigger_update_update_ab24d', table='operation_honorcode', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='honorcode',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_honorcodeevent" ("code", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "title") VALUES (OLD."code", OLD."created", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."title"); RETURN NULL;', hash='986b11896b34e96b69bafadb4fea0781afce7e39', operation='DELETE', pgid='pgtrigger_delete_delete_77e84', table='operation_honorcode', when='AFTER')),
        ),
        migrations.AddField(
            model_name='honorcodeevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='honorcodeevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.honorcode'),
        ),
        migrations.AddField(
            model_name='inquiry',
            name='attachments',
            field=models.ManyToManyField(blank=True, related_name='+', to='operation.attachment', verbose_name='Attachments'),
        ),
        migrations.AddField(
            model_name='inquiry',
            name='content_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype', verbose_name='Content Type'),
        ),
        migrations.AddField(
            model_name='inquiry',
            name='writer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Writer'),
        ),
        migrations.AddField(
            model_name='inquiryevent',
            name='content_type',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='contenttypes.contenttype', verbose_name='Content Type'),
        ),
        migrations.AddField(
            model_name='inquiryevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='inquiryevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.inquiry'),
        ),
        migrations.AddField(
            model_name='inquiryevent',
            name='writer',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Writer'),
        ),
        migrations.AddField(
            model_name='inquiryresponse',
            name='inquiry',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operation.inquiry', verbose_name='Inquiry'),
        ),
        migrations.AddField(
            model_name='inquiryresponse',
            name='writer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Writer'),
        ),
        migrations.AddField(
            model_name='inquiryresponseevent',
            name='inquiry',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.inquiry', verbose_name='Inquiry'),
        ),
        migrations.AddField(
            model_name='inquiryresponseevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='inquiryresponseevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.inquiryresponse'),
        ),
        migrations.AddField(
            model_name='inquiryresponseevent',
            name='writer',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Writer'),
        ),
        migrations.AddIndex(
            model_name='instructor',
            index=models.Index(fields=['name'], name='operation_i_name_15ad6d_idx'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='instructor',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_instructorevent" ("about", "active", "avatar", "bio", "created", "email", "id", "modified", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (NEW."about", NEW."active", NEW."avatar", NEW."bio", NEW."created", NEW."email", NEW."id", NEW."modified", NEW."name", _pgh_attach_context(), NOW(), \'insert\', NEW."id"); RETURN NULL;', hash='bbc77d7aa9fd11c5af2219b9ea35310abbf1e7ac', operation='INSERT', pgid='pgtrigger_insert_insert_e1fda', table='operation_instructor', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='instructor',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."about" IS DISTINCT FROM (NEW."about") OR OLD."active" IS DISTINCT FROM (NEW."active") OR OLD."avatar" IS DISTINCT FROM (NEW."avatar") OR OLD."bio" IS DISTINCT FROM (NEW."bio") OR OLD."email" IS DISTINCT FROM (NEW."email") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."name" IS DISTINCT FROM (NEW."name"))', func='INSERT INTO "operation_instructorevent" ("about", "active", "avatar", "bio", "created", "email", "id", "modified", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (NEW."about", NEW."active", NEW."avatar", NEW."bio", NEW."created", NEW."email", NEW."id", NEW."modified", NEW."name", _pgh_attach_context(), NOW(), \'update\', NEW."id"); RETURN NULL;', hash='ea11bac4a1ef9ba730fdea11bd6585c076944f33', operation='UPDATE', pgid='pgtrigger_update_update_ebee0', table='operation_instructor', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='instructor',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_instructorevent" ("about", "active", "avatar", "bio", "created", "email", "id", "modified", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id") VALUES (OLD."about", OLD."active", OLD."avatar", OLD."bio", OLD."created", OLD."email", OLD."id", OLD."modified", OLD."name", _pgh_attach_context(), NOW(), \'delete\', OLD."id"); RETURN NULL;', hash='7e4dd51063eed7dd39c43a1530ebaa1226b7e9f6', operation='DELETE', pgid='pgtrigger_delete_delete_ea23b', table='operation_instructor', when='AFTER')),
        ),
        migrations.AddField(
            model_name='instructorevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='instructorevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.instructor'),
        ),
        migrations.AddField(
            model_name='message',
            name='user',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='User'),
        ),
        migrations.AddField(
            model_name='messageevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='messageevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.message'),
        ),
        migrations.AddField(
            model_name='messageevent',
            name='user',
            field=models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='User'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policy',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_policyevent" ("active", "created", "description", "id", "kind", "mandatory", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "priority", "show_on_join", "title") VALUES (NEW."active", NEW."created", NEW."description", NEW."id", NEW."kind", NEW."mandatory", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."priority", NEW."show_on_join", NEW."title"); RETURN NULL;', hash='dfd421d187bba4b0dcc109b0b4ab1435d8ad894c', operation='INSERT', pgid='pgtrigger_insert_insert_27011', table='operation_policy', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policy',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."active" IS DISTINCT FROM (NEW."active") OR OLD."description" IS DISTINCT FROM (NEW."description") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."kind" IS DISTINCT FROM (NEW."kind") OR OLD."mandatory" IS DISTINCT FROM (NEW."mandatory") OR OLD."priority" IS DISTINCT FROM (NEW."priority") OR OLD."show_on_join" IS DISTINCT FROM (NEW."show_on_join") OR OLD."title" IS DISTINCT FROM (NEW."title"))', func='INSERT INTO "operation_policyevent" ("active", "created", "description", "id", "kind", "mandatory", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "priority", "show_on_join", "title") VALUES (NEW."active", NEW."created", NEW."description", NEW."id", NEW."kind", NEW."mandatory", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."priority", NEW."show_on_join", NEW."title"); RETURN NULL;', hash='ebacd6e751636e68e91a58f6e2d430af052188aa', operation='UPDATE', pgid='pgtrigger_update_update_7eb72', table='operation_policy', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policy',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_policyevent" ("active", "created", "description", "id", "kind", "mandatory", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "priority", "show_on_join", "title") VALUES (OLD."active", OLD."created", OLD."description", OLD."id", OLD."kind", OLD."mandatory", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."priority", OLD."show_on_join", OLD."title"); RETURN NULL;', hash='6cace3f6d11da48fc04516c5a40e798e02dce8cc', operation='DELETE', pgid='pgtrigger_delete_delete_13c9b', table='operation_policy', when='AFTER')),
        ),
        migrations.AddField(
            model_name='policyagreement',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='User'),
        ),
        migrations.AddField(
            model_name='policyagreementevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='policyagreementevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.policyagreement'),
        ),
        migrations.AddField(
            model_name='policyagreementevent',
            name='user',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to=settings.AUTH_USER_MODEL, verbose_name='User'),
        ),
        migrations.AddField(
            model_name='policyevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='policyevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.policy'),
        ),
        migrations.AddField(
            model_name='policyversion',
            name='policy',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operation.policy', verbose_name='Policy'),
        ),
        migrations.AddField(
            model_name='policyagreementevent',
            name='version',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.policyversion', verbose_name='Policy Version'),
        ),
        migrations.AddField(
            model_name='policyagreement',
            name='version',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operation.policyversion', verbose_name='Policy Version'),
        ),
        migrations.AddField(
            model_name='policyversionevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='policyversionevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.policyversion'),
        ),
        migrations.AddField(
            model_name='policyversionevent',
            name='policy',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.policy', verbose_name='Policy'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='tag',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_tagevent" ("id", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "slug") VALUES (NEW."id", NEW."name", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."slug"); RETURN NULL;', hash='c7635b19d571c12768b032bb651971f07d45b536', operation='INSERT', pgid='pgtrigger_insert_insert_9dc55', table='operation_tag', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='tag',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD.* IS DISTINCT FROM NEW.*)', func='INSERT INTO "operation_tagevent" ("id", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "slug") VALUES (NEW."id", NEW."name", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."slug"); RETURN NULL;', hash='e9501d7c7353bfc7aa9ef89c40ef6111ef270ce7', operation='UPDATE', pgid='pgtrigger_update_update_50ea1', table='operation_tag', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='tag',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_tagevent" ("id", "name", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "slug") VALUES (OLD."id", OLD."name", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."slug"); RETURN NULL;', hash='fc2cec6450bea22556d813940f38c6ddec8fbe9d', operation='DELETE', pgid='pgtrigger_delete_delete_ca352', table='operation_tag', when='AFTER')),
        ),
        migrations.AddField(
            model_name='tagevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='tagevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.tag'),
        ),
        migrations.AddField(
            model_name='taggeditem',
            name='content_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_tagged_items', to='contenttypes.contenttype', verbose_name='content type'),
        ),
        migrations.AddField(
            model_name='taggeditem',
            name='tag',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_items', to='operation.tag', verbose_name='Tag'),
        ),
        migrations.AddField(
            model_name='taggeditemevent',
            name='content_type',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='contenttypes.contenttype', verbose_name='content type'),
        ),
        migrations.AddField(
            model_name='taggeditemevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='taggeditemevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.taggeditem'),
        ),
        migrations.AddField(
            model_name='taggeditemevent',
            name='tag',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.tag', verbose_name='Tag'),
        ),
        migrations.AddField(
            model_name='thread',
            name='subject_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype', verbose_name='Subject Type'),
        ),
        migrations.AddField(
            model_name='commentevent',
            name='thread',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='operation.thread', verbose_name='Thread'),
        ),
        migrations.AddField(
            model_name='comment',
            name='thread',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='operation.thread', verbose_name='Thread'),
        ),
        migrations.AddField(
            model_name='threadevent',
            name='pgh_context',
            field=models.ForeignKey(db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='pghistory.context'),
        ),
        migrations.AddField(
            model_name='threadevent',
            name='pgh_obj',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='events', to='operation.thread'),
        ),
        migrations.AddField(
            model_name='threadevent',
            name='subject_type',
            field=models.ForeignKey(db_constraint=False, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', related_query_name='+', to='contenttypes.contenttype', verbose_name='Subject Type'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcementevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='7e2ddeac6b7b1199f2bd6ce29d78527d8e64aa40', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_1e45a', table='operation_announcementevent', when='BEFORE')),
        ),
        migrations.AddConstraint(
            model_name='announcementread',
            constraint=models.UniqueConstraint(fields=('user', 'announcement'), name='operation_announcementread_us_an_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcementread',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_announcementreadevent" ("announcement_id", "id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "read", "user_id") VALUES (NEW."announcement_id", NEW."id", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."read", NEW."user_id"); RETURN NULL;', hash='69297c18e4203af030c3addc7df6fe0d18e6c881', operation='INSERT', pgid='pgtrigger_insert_insert_a6d06', table='operation_announcementread', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcementread',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."announcement_id" IS DISTINCT FROM (NEW."announcement_id") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."user_id" IS DISTINCT FROM (NEW."user_id"))', func='INSERT INTO "operation_announcementreadevent" ("announcement_id", "id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "read", "user_id") VALUES (NEW."announcement_id", NEW."id", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."read", NEW."user_id"); RETURN NULL;', hash='b596761217c39c4353065a82c3b7845e6aff3658', operation='UPDATE', pgid='pgtrigger_update_update_a4f57', table='operation_announcementread', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcementread',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_announcementreadevent" ("announcement_id", "id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "read", "user_id") VALUES (OLD."announcement_id", OLD."id", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."read", OLD."user_id"); RETURN NULL;', hash='ff7497c966f8d673bd415dc55296cbc2a15eb345', operation='DELETE', pgid='pgtrigger_delete_delete_1dcfc', table='operation_announcementread', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcement',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_announcementevent" ("body", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "pinned", "public", "title") VALUES (NEW."body", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."pinned", NEW."public", NEW."title"); RETURN NULL;', hash='93e9beaba6359afe5d90333b5adef7dba7f51f97', operation='INSERT', pgid='pgtrigger_insert_insert_85a14', table='operation_announcement', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcement',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."body" IS DISTINCT FROM (NEW."body") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."pinned" IS DISTINCT FROM (NEW."pinned") OR OLD."public" IS DISTINCT FROM (NEW."public") OR OLD."title" IS DISTINCT FROM (NEW."title"))', func='INSERT INTO "operation_announcementevent" ("body", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "pinned", "public", "title") VALUES (NEW."body", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."pinned", NEW."public", NEW."title"); RETURN NULL;', hash='63615a2de3bd07729dc9e7c4a991e1d4f69ec208', operation='UPDATE', pgid='pgtrigger_update_update_bd3f3', table='operation_announcement', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcement',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_announcementevent" ("body", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "pinned", "public", "title") VALUES (OLD."body", OLD."created", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."pinned", OLD."public", OLD."title"); RETURN NULL;', hash='f062abae8eca4d57127142b885e325b32b228b14', operation='DELETE', pgid='pgtrigger_delete_delete_34cc9', table='operation_announcement', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='announcementreadevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='513e03400f096d11edca8f2a62299c5915e8ede2', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_80e51', table='operation_announcementreadevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='appealevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='1614168dc2bf224d01a967bd958f2808bf56a67f', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_e1b73', table='operation_appealevent', when='BEFORE')),
        ),
        migrations.AddConstraint(
            model_name='attachment',
            constraint=models.UniqueConstraint(fields=('hash', 'owner'), name='operation_attachment_ha_own_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='attachment',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_attachmentevent" ("created", "deleted", "file", "hash", "id", "mime_type", "modified", "owner_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "size") VALUES (NEW."created", NEW."deleted", NEW."file", NEW."hash", NEW."id", NEW."mime_type", NEW."modified", NEW."owner_id", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."size"); RETURN NULL;', hash='394195094ea5c51316ba8439493a26eecabf2027', operation='INSERT', pgid='pgtrigger_insert_insert_8e4c6', table='operation_attachment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='attachment',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."deleted" IS DISTINCT FROM (NEW."deleted") OR OLD."file" IS DISTINCT FROM (NEW."file") OR OLD."hash" IS DISTINCT FROM (NEW."hash") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."mime_type" IS DISTINCT FROM (NEW."mime_type") OR OLD."owner_id" IS DISTINCT FROM (NEW."owner_id") OR OLD."size" IS DISTINCT FROM (NEW."size"))', func='INSERT INTO "operation_attachmentevent" ("created", "deleted", "file", "hash", "id", "mime_type", "modified", "owner_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "size") VALUES (NEW."created", NEW."deleted", NEW."file", NEW."hash", NEW."id", NEW."mime_type", NEW."modified", NEW."owner_id", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."size"); RETURN NULL;', hash='b5a431e8c0aa1ce61d50f30b0c15b33dbc1beefa', operation='UPDATE', pgid='pgtrigger_update_update_4bdda', table='operation_attachment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='attachment',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_attachmentevent" ("created", "deleted", "file", "hash", "id", "mime_type", "modified", "owner_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "size") VALUES (OLD."created", OLD."deleted", OLD."file", OLD."hash", OLD."id", OLD."mime_type", OLD."modified", OLD."owner_id", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."size"); RETURN NULL;', hash='b0f21ebd93b944dc5a7f7a10be87ce6d4c3d3497', operation='DELETE', pgid='pgtrigger_delete_delete_b66a6', table='operation_attachment', when='AFTER')),
        ),
        migrations.AddConstraint(
            model_name='appeal',
            constraint=models.UniqueConstraint(fields=('question_type', 'question_id', 'learner'), name='operation_appeal_quid_quty_le_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='appeal',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_appealevent" ("closed", "created", "explanation", "id", "learner_id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question_id", "question_type_id", "review") VALUES (NEW."closed", NEW."created", NEW."explanation", NEW."id", NEW."learner_id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."question_id", NEW."question_type_id", NEW."review"); RETURN NULL;', hash='311aabcd9ff346ff653ac67cc30a3b4430fc2b23', operation='INSERT', pgid='pgtrigger_insert_insert_c7b97', table='operation_appeal', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='appeal',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."closed" IS DISTINCT FROM (NEW."closed") OR OLD."explanation" IS DISTINCT FROM (NEW."explanation") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."learner_id" IS DISTINCT FROM (NEW."learner_id") OR OLD."question_id" IS DISTINCT FROM (NEW."question_id") OR OLD."question_type_id" IS DISTINCT FROM (NEW."question_type_id") OR OLD."review" IS DISTINCT FROM (NEW."review"))', func='INSERT INTO "operation_appealevent" ("closed", "created", "explanation", "id", "learner_id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question_id", "question_type_id", "review") VALUES (NEW."closed", NEW."created", NEW."explanation", NEW."id", NEW."learner_id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."question_id", NEW."question_type_id", NEW."review"); RETURN NULL;', hash='d4a866c3350d7c1f3eb9a5c13706e74493ebc4ad', operation='UPDATE', pgid='pgtrigger_update_update_3fe73', table='operation_appeal', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='appeal',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_appealevent" ("closed", "created", "explanation", "id", "learner_id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question_id", "question_type_id", "review") VALUES (OLD."closed", OLD."created", OLD."explanation", OLD."id", OLD."learner_id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."question_id", OLD."question_type_id", OLD."review"); RETURN NULL;', hash='f2f0faff050c865b49877f4235e51472e08aa252', operation='DELETE', pgid='pgtrigger_delete_delete_1853c', table='operation_appeal', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='attachmentevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='b89e8a0a11fd6c2949db487e482e80c58e30a4c2', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_f3237', table='operation_attachmentevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='categoryevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='3c46bd9daad09385371af56f454820fcf30fa870', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_414ce', table='operation_categoryevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faqevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='3a7a2df0aec67f7d1c5c2301c7b6fe15ff6951b5', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_7109b', table='operation_faqevent', when='BEFORE')),
        ),
        migrations.AddConstraint(
            model_name='faqitem',
            constraint=models.UniqueConstraint(fields=('faq', 'question'), name='operation_faqitem_fa_qu_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faqitem',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_faqitemevent" ("active", "answer", "created", "faq_id", "id", "modified", "ordering", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question") VALUES (NEW."active", NEW."answer", NEW."created", NEW."faq_id", NEW."id", NEW."modified", NEW."ordering", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."question"); RETURN NULL;', hash='0d9dc81766a96e1253365f2b09928c4b3ea34798', operation='INSERT', pgid='pgtrigger_insert_insert_eec12', table='operation_faqitem', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faqitem',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."active" IS DISTINCT FROM (NEW."active") OR OLD."answer" IS DISTINCT FROM (NEW."answer") OR OLD."faq_id" IS DISTINCT FROM (NEW."faq_id") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."ordering" IS DISTINCT FROM (NEW."ordering") OR OLD."question" IS DISTINCT FROM (NEW."question"))', func='INSERT INTO "operation_faqitemevent" ("active", "answer", "created", "faq_id", "id", "modified", "ordering", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question") VALUES (NEW."active", NEW."answer", NEW."created", NEW."faq_id", NEW."id", NEW."modified", NEW."ordering", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."question"); RETURN NULL;', hash='eed647b70efe05739e9ff4e1d267737e201b3580', operation='UPDATE', pgid='pgtrigger_update_update_9668f', table='operation_faqitem', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faqitem',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_faqitemevent" ("active", "answer", "created", "faq_id", "id", "modified", "ordering", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question") VALUES (OLD."active", OLD."answer", OLD."created", OLD."faq_id", OLD."id", OLD."modified", OLD."ordering", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."question"); RETURN NULL;', hash='734bd59c5896a75050ec09b521d71ebaf6b47eb3', operation='DELETE', pgid='pgtrigger_delete_delete_e32ec', table='operation_faqitem', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='faqitemevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='9ddf56d980c2fd9e8c0a06e7a06a6a3084b31d99', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_061ed', table='operation_faqitemevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='honorcodeevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='981b277dda0a21599010cac80c17271ffc91c4fe', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_1b36b', table='operation_honorcodeevent', when='BEFORE')),
        ),
        migrations.AddIndex(
            model_name='inquiry',
            index=models.Index(fields=['content_type', 'content_id'], name='operation_i_content_bed00d_idx'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiry',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_inquiryevent" ("content_id", "content_type_id", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question", "title", "writer_id") VALUES (NEW."content_id", NEW."content_type_id", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."question", NEW."title", NEW."writer_id"); RETURN NULL;', hash='311257c2b36de6776a097bb51ba53053aa8b734a', operation='INSERT', pgid='pgtrigger_insert_insert_4cbaf', table='operation_inquiry', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiry',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."content_id" IS DISTINCT FROM (NEW."content_id") OR OLD."content_type_id" IS DISTINCT FROM (NEW."content_type_id") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."question" IS DISTINCT FROM (NEW."question") OR OLD."title" IS DISTINCT FROM (NEW."title") OR OLD."writer_id" IS DISTINCT FROM (NEW."writer_id"))', func='INSERT INTO "operation_inquiryevent" ("content_id", "content_type_id", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question", "title", "writer_id") VALUES (NEW."content_id", NEW."content_type_id", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."question", NEW."title", NEW."writer_id"); RETURN NULL;', hash='53067adc6dff03f633d5a411b7fb69c951e7827f', operation='UPDATE', pgid='pgtrigger_update_update_a579a', table='operation_inquiry', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiry',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_inquiryevent" ("content_id", "content_type_id", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "question", "title", "writer_id") VALUES (OLD."content_id", OLD."content_type_id", OLD."created", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."question", OLD."title", OLD."writer_id"); RETURN NULL;', hash='225db9a7afd8a54cd7ca51278de1cc4a762a34f0', operation='DELETE', pgid='pgtrigger_delete_delete_1d930', table='operation_inquiry', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiryevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='7a6423946e6914fdb20f5faea9ca1ca49a32a4ec', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_11c2c', table='operation_inquiryevent', when='BEFORE')),
        ),
        migrations.AddConstraint(
            model_name='inquiryresponse',
            constraint=models.UniqueConstraint(condition=models.Q(('solved__isnull', False)), fields=('inquiry',), name='operation_inquiryresponse_in_sol_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiryresponse',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_inquiryresponseevent" ("answer", "created", "id", "inquiry_id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "solved", "writer_id") VALUES (NEW."answer", NEW."created", NEW."id", NEW."inquiry_id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."solved", NEW."writer_id"); RETURN NULL;', hash='443a64338f532b11741a7523fc32855ff0c1f75a', operation='INSERT', pgid='pgtrigger_insert_insert_2e6b1', table='operation_inquiryresponse', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiryresponse',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."answer" IS DISTINCT FROM (NEW."answer") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."inquiry_id" IS DISTINCT FROM (NEW."inquiry_id") OR OLD."solved" IS DISTINCT FROM (NEW."solved") OR OLD."writer_id" IS DISTINCT FROM (NEW."writer_id"))', func='INSERT INTO "operation_inquiryresponseevent" ("answer", "created", "id", "inquiry_id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "solved", "writer_id") VALUES (NEW."answer", NEW."created", NEW."id", NEW."inquiry_id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."solved", NEW."writer_id"); RETURN NULL;', hash='0ddf9a3963344eda58774fe482e8ce492aeca104', operation='UPDATE', pgid='pgtrigger_update_update_c90d0', table='operation_inquiryresponse', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiryresponse',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_inquiryresponseevent" ("answer", "created", "id", "inquiry_id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "solved", "writer_id") VALUES (OLD."answer", OLD."created", OLD."id", OLD."inquiry_id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."solved", OLD."writer_id"); RETURN NULL;', hash='b0da8a0a5c80e63870d41f8738fe5570c69253d4', operation='DELETE', pgid='pgtrigger_delete_delete_15c1f', table='operation_inquiryresponse', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='inquiryresponseevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='c636ec6b2b93f30a47995d8451bf841e8ea6686d', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_dc72c', table='operation_inquiryresponseevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='instructorevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='9c3e10cee7fac20319d5d547127c06d1c87925ff', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_758ea', table='operation_instructorevent', when='BEFORE')),
        ),
        migrations.AddIndex(
            model_name='message',
            index=models.Index(fields=['group'], name='operation_m_group_f0137a_idx'),
        ),
        migrations.AddIndex(
            model_name='message',
            index=models.Index(fields=['reserved'], name='operation_m_reserve_b29db6_idx'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='message',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_messageevent" ("channel", "created", "data", "error", "group", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "read", "recipients", "reserved", "sent", "title", "user_id") VALUES (NEW."channel", NEW."created", NEW."data", NEW."error", NEW."group", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."read", NEW."recipients", NEW."reserved", NEW."sent", NEW."title", NEW."user_id"); RETURN NULL;', hash='44b8efb372db62400bf579592e8485673213511b', operation='INSERT', pgid='pgtrigger_insert_insert_8e1f4', table='operation_message', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='message',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."channel" IS DISTINCT FROM (NEW."channel") OR OLD."data" IS DISTINCT FROM (NEW."data") OR OLD."error" IS DISTINCT FROM (NEW."error") OR OLD."group" IS DISTINCT FROM (NEW."group") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."read" IS DISTINCT FROM (NEW."read") OR OLD."recipients" IS DISTINCT FROM (NEW."recipients") OR OLD."reserved" IS DISTINCT FROM (NEW."reserved") OR OLD."sent" IS DISTINCT FROM (NEW."sent") OR OLD."title" IS DISTINCT FROM (NEW."title") OR OLD."user_id" IS DISTINCT FROM (NEW."user_id"))', func='INSERT INTO "operation_messageevent" ("channel", "created", "data", "error", "group", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "read", "recipients", "reserved", "sent", "title", "user_id") VALUES (NEW."channel", NEW."created", NEW."data", NEW."error", NEW."group", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."read", NEW."recipients", NEW."reserved", NEW."sent", NEW."title", NEW."user_id"); RETURN NULL;', hash='056fa220387433bbf7579ad8a63a5c6df0d720e5', operation='UPDATE', pgid='pgtrigger_update_update_1c2e2', table='operation_message', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='message',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_messageevent" ("channel", "created", "data", "error", "group", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "read", "recipients", "reserved", "sent", "title", "user_id") VALUES (OLD."channel", OLD."created", OLD."data", OLD."error", OLD."group", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."read", OLD."recipients", OLD."reserved", OLD."sent", OLD."title", OLD."user_id"); RETURN NULL;', hash='c9fa00006c6cfa8e37490dd383375d9f6ce25c33', operation='DELETE', pgid='pgtrigger_delete_delete_3018e', table='operation_message', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='messageevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='884836ded98c9bd24e5d2a4790a68ebce14b28be', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_dba01', table='operation_messageevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='806e98ecf526cd0670f992e9da85f59792b44782', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_a9aa7', table='operation_policyevent', when='BEFORE')),
        ),
        migrations.AddConstraint(
            model_name='policyversion',
            constraint=models.UniqueConstraint(fields=('policy', 'version'), name='operation_policyversion_po_ve_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyversion',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_policyversionevent" ("body", "created", "data_category", "effective_date", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "policy_id", "version") VALUES (NEW."body", NEW."created", NEW."data_category", NEW."effective_date", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."policy_id", NEW."version"); RETURN NULL;', hash='d5f7020478edff6c44e610fd5e256d87886fdae3', operation='INSERT', pgid='pgtrigger_insert_insert_e6333', table='operation_policyversion', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyversion',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."body" IS DISTINCT FROM (NEW."body") OR OLD."data_category" IS DISTINCT FROM (NEW."data_category") OR OLD."effective_date" IS DISTINCT FROM (NEW."effective_date") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."policy_id" IS DISTINCT FROM (NEW."policy_id") OR OLD."version" IS DISTINCT FROM (NEW."version"))', func='INSERT INTO "operation_policyversionevent" ("body", "created", "data_category", "effective_date", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "policy_id", "version") VALUES (NEW."body", NEW."created", NEW."data_category", NEW."effective_date", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."policy_id", NEW."version"); RETURN NULL;', hash='ef8cf31dcc4be07b87b3a38da1efa6c9fc60e557', operation='UPDATE', pgid='pgtrigger_update_update_b0660', table='operation_policyversion', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyversion',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_policyversionevent" ("body", "created", "data_category", "effective_date", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "policy_id", "version") VALUES (OLD."body", OLD."created", OLD."data_category", OLD."effective_date", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."policy_id", OLD."version"); RETURN NULL;', hash='85ce9acf594b971b068fd45606c8a375f8490b59', operation='DELETE', pgid='pgtrigger_delete_delete_40490', table='operation_policyversion', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyagreementevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='208ddb5a0d771b06cd7ca79706101c73c1f243a7', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_29e02', table='operation_policyagreementevent', when='BEFORE')),
        ),
        migrations.AddIndex(
            model_name='policyagreement',
            index=models.Index(fields=['user', 'accepted'], name='operation_p_user_id_6342b6_idx'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyagreement',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_policyagreementevent" ("accepted", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "user_id", "version_id") VALUES (NEW."accepted", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."user_id", NEW."version_id"); RETURN NULL;', hash='f55b8665b2274cd3d753f9ecc210041db18e80c4', operation='INSERT', pgid='pgtrigger_insert_insert_3e7ec', table='operation_policyagreement', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyagreement',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."accepted" IS DISTINCT FROM (NEW."accepted") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."user_id" IS DISTINCT FROM (NEW."user_id") OR OLD."version_id" IS DISTINCT FROM (NEW."version_id"))', func='INSERT INTO "operation_policyagreementevent" ("accepted", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "user_id", "version_id") VALUES (NEW."accepted", NEW."created", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."user_id", NEW."version_id"); RETURN NULL;', hash='61be77ee907753073471ea1595985f15cfb7a9ee', operation='UPDATE', pgid='pgtrigger_update_update_0a3e4', table='operation_policyagreement', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyagreement',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_policyagreementevent" ("accepted", "created", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "user_id", "version_id") VALUES (OLD."accepted", OLD."created", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."user_id", OLD."version_id"); RETURN NULL;', hash='821d11c3df7ce9c8246abc67ee542f43f02d0318', operation='DELETE', pgid='pgtrigger_delete_delete_e6faf', table='operation_policyagreement', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='policyversionevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='9f4acf16042ac0acbfab46ba386856b0d469dd61', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_06959', table='operation_policyversionevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='tagevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='8ac4534d025036a13516bf7f02609360c736719e', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_28587', table='operation_tagevent', when='BEFORE')),
        ),
        migrations.AddIndex(
            model_name='taggeditem',
            index=models.Index(fields=['content_type', 'object_id'], name='operation_t_content_4b9277_idx'),
        ),
        migrations.AddIndex(
            model_name='taggeditem',
            index=models.Index(fields=['object_id'], name='operation_t_object__32a8ec_idx'),
        ),
        migrations.AddConstraint(
            model_name='taggeditem',
            constraint=models.UniqueConstraint(fields=('tag', 'content_type', 'object_id'), name='operation_taggeditem_ta_coty_obid_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='taggeditem',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_taggeditemevent" ("content_type_id", "id", "object_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "tag_id") VALUES (NEW."content_type_id", NEW."id", NEW."object_id", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."tag_id"); RETURN NULL;', hash='d3be0c4ad8a32411c61297c1f0fb9b1e1866b8b2', operation='INSERT', pgid='pgtrigger_insert_insert_a34a5', table='operation_taggeditem', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='taggeditem',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD.* IS DISTINCT FROM NEW.*)', func='INSERT INTO "operation_taggeditemevent" ("content_type_id", "id", "object_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "tag_id") VALUES (NEW."content_type_id", NEW."id", NEW."object_id", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."tag_id"); RETURN NULL;', hash='2ed344e5974171bdcad84dd78275d6a13a5b0b80', operation='UPDATE', pgid='pgtrigger_update_update_91c0a', table='operation_taggeditem', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='taggeditem',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_taggeditemevent" ("content_type_id", "id", "object_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "tag_id") VALUES (OLD."content_type_id", OLD."id", OLD."object_id", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."tag_id"); RETURN NULL;', hash='edcd2f7786e79af53f6f355796598273757dda4f', operation='DELETE', pgid='pgtrigger_delete_delete_1ef21', table='operation_taggeditem', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='taggeditemevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='1914ead53e8358fb40a87526d5323a25ac67183e', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_5bffe', table='operation_taggeditemevent', when='BEFORE')),
        ),
        migrations.AddConstraint(
            model_name='thread',
            constraint=models.UniqueConstraint(fields=('subject_type', 'subject_id'), name='opeation_thread_suty_suid_uniq'),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='thread',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_threadevent" ("closed", "comment_count", "created", "description", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "rating_avg", "rating_count", "rating_sum", "subject_id", "subject_type_id", "title") VALUES (NEW."closed", NEW."comment_count", NEW."created", NEW."description", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."rating_avg", NEW."rating_count", NEW."rating_sum", NEW."subject_id", NEW."subject_type_id", NEW."title"); RETURN NULL;', hash='c212c18c612d338a549988784f06d822c23ab8fa', operation='INSERT', pgid='pgtrigger_insert_insert_ea3a9', table='operation_thread', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='thread',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."closed" IS DISTINCT FROM (NEW."closed") OR OLD."comment_count" IS DISTINCT FROM (NEW."comment_count") OR OLD."description" IS DISTINCT FROM (NEW."description") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."rating_avg" IS DISTINCT FROM (NEW."rating_avg") OR OLD."rating_count" IS DISTINCT FROM (NEW."rating_count") OR OLD."rating_sum" IS DISTINCT FROM (NEW."rating_sum") OR OLD."subject_id" IS DISTINCT FROM (NEW."subject_id") OR OLD."subject_type_id" IS DISTINCT FROM (NEW."subject_type_id") OR OLD."title" IS DISTINCT FROM (NEW."title"))', func='INSERT INTO "operation_threadevent" ("closed", "comment_count", "created", "description", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "rating_avg", "rating_count", "rating_sum", "subject_id", "subject_type_id", "title") VALUES (NEW."closed", NEW."comment_count", NEW."created", NEW."description", NEW."id", NEW."modified", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."rating_avg", NEW."rating_count", NEW."rating_sum", NEW."subject_id", NEW."subject_type_id", NEW."title"); RETURN NULL;', hash='c9620d4c6b41ad38b09fdde1071ea434ed8046e7', operation='UPDATE', pgid='pgtrigger_update_update_2f223', table='operation_thread', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='thread',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_threadevent" ("closed", "comment_count", "created", "description", "id", "modified", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "rating_avg", "rating_count", "rating_sum", "subject_id", "subject_type_id", "title") VALUES (OLD."closed", OLD."comment_count", OLD."created", OLD."description", OLD."id", OLD."modified", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."rating_avg", OLD."rating_count", OLD."rating_sum", OLD."subject_id", OLD."subject_type_id", OLD."title"); RETURN NULL;', hash='41fe8125b389c8b78593f1fb5c0159dd6710d183', operation='DELETE', pgid='pgtrigger_delete_delete_2ddab', table='operation_thread', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='commentevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='9802824967b5193a146fcc4439ec9a31a8a775db', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_c26ae', table='operation_commentevent', when='BEFORE')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='comment',
            trigger=pgtrigger.compiler.Trigger(name='insert_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_commentevent" ("comment", "created", "deleted", "id", "modified", "parent_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "pinned", "rating", "thread_id", "writer_id") VALUES (NEW."comment", NEW."created", NEW."deleted", NEW."id", NEW."modified", NEW."parent_id", _pgh_attach_context(), NOW(), \'insert\', NEW."id", NEW."pinned", NEW."rating", NEW."thread_id", NEW."writer_id"); RETURN NULL;', hash='76e140e6f6acee723f916f196ad3615dbfc9b7c5', operation='INSERT', pgid='pgtrigger_insert_insert_2444d', table='operation_comment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='comment',
            trigger=pgtrigger.compiler.Trigger(name='update_update', sql=pgtrigger.compiler.UpsertTriggerSql(condition='WHEN (OLD."comment" IS DISTINCT FROM (NEW."comment") OR OLD."deleted" IS DISTINCT FROM (NEW."deleted") OR OLD."id" IS DISTINCT FROM (NEW."id") OR OLD."parent_id" IS DISTINCT FROM (NEW."parent_id") OR OLD."pinned" IS DISTINCT FROM (NEW."pinned") OR OLD."rating" IS DISTINCT FROM (NEW."rating") OR OLD."thread_id" IS DISTINCT FROM (NEW."thread_id") OR OLD."writer_id" IS DISTINCT FROM (NEW."writer_id"))', func='INSERT INTO "operation_commentevent" ("comment", "created", "deleted", "id", "modified", "parent_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "pinned", "rating", "thread_id", "writer_id") VALUES (NEW."comment", NEW."created", NEW."deleted", NEW."id", NEW."modified", NEW."parent_id", _pgh_attach_context(), NOW(), \'update\', NEW."id", NEW."pinned", NEW."rating", NEW."thread_id", NEW."writer_id"); RETURN NULL;', hash='197971724220fc8310658708006bc998fe029fd2', operation='UPDATE', pgid='pgtrigger_update_update_43e6c', table='operation_comment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='comment',
            trigger=pgtrigger.compiler.Trigger(name='delete_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func='INSERT INTO "operation_commentevent" ("comment", "created", "deleted", "id", "modified", "parent_id", "pgh_context_id", "pgh_created_at", "pgh_label", "pgh_obj_id", "pinned", "rating", "thread_id", "writer_id") VALUES (OLD."comment", OLD."created", OLD."deleted", OLD."id", OLD."modified", OLD."parent_id", _pgh_attach_context(), NOW(), \'delete\', OLD."id", OLD."pinned", OLD."rating", OLD."thread_id", OLD."writer_id"); RETURN NULL;', hash='fd21138cc73fe3c27403e4fc60f3a88589bd036b', operation='DELETE', pgid='pgtrigger_delete_delete_42346', table='operation_comment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='comment',
            trigger=pgtrigger.compiler.Trigger(name='operation_comment_insert', sql=pgtrigger.compiler.UpsertTriggerSql(func="\n                BEGIN\n                    IF NOT EXISTS (SELECT 1 FROM operation_thread WHERE id = NEW.thread_id) THEN\n                        RAISE EXCEPTION 'Thread ID % does not exist', NEW.thread_id;\n                    END IF;\n\n                    WITH stats AS (\n                        SELECT\n                            COUNT(*) FILTER (WHERE rating IS NOT NULL AND rating > 0) AS rating_count,\n                            COALESCE(SUM(rating) FILTER (WHERE rating IS NOT NULL AND rating > 0), 0) AS rating_sum\n                        FROM operation_comment\n                        WHERE thread_id = NEW.thread_id AND deleted = false AND id != NEW.id\n                    )\n                    UPDATE operation_thread\n                    SET \n                        comment_count = comment_count + (NOT NEW.deleted)::int,\n                        rating_count = (SELECT rating_count FROM stats) + \n                                       (NEW.rating IS NOT NULL AND NEW.rating > 0)::int,\n                        rating_sum = (SELECT rating_sum FROM stats) + \n                                     COALESCE(NULLIF(NEW.rating, 0), 0),\n                        rating_avg = CASE\n                            WHEN (SELECT rating_count FROM stats) + (NEW.rating IS NOT NULL AND NEW.rating > 0)::int > 0 THEN\n                                ((SELECT rating_sum FROM stats) + COALESCE(NULLIF(NEW.rating, 0), 0))::numeric / \n                                ((SELECT rating_count FROM stats) + (NEW.rating IS NOT NULL AND NEW.rating > 0)::int)\n                            ELSE 0\n                        END\n                    WHERE id = NEW.thread_id;\n\n                    RETURN NEW;\n                END;\n            ", hash='dd088ee9ec387486a1ad9b7ed5a1d0dda062b8de', operation='INSERT', pgid='pgtrigger_operation_comment_insert_9b8e7', table='operation_comment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='comment',
            trigger=pgtrigger.compiler.Trigger(name='operation_comment_delete', sql=pgtrigger.compiler.UpsertTriggerSql(func="\n                BEGIN\n                    IF NOT EXISTS (SELECT 1 FROM operation_thread WHERE id = OLD.thread_id) THEN\n                        RAISE EXCEPTION 'Thread ID % does not exist', OLD.thread_id;\n                    END IF;\n\n                    WITH stats AS (\n                        SELECT\n                            COUNT(*) AS remaining_count,\n                            COUNT(*) FILTER (WHERE rating IS NOT NULL AND rating > 0) AS rating_count,\n                            COALESCE(SUM(rating) FILTER (WHERE rating IS NOT NULL AND rating > 0), 0) AS rating_sum\n                        FROM operation_comment\n                        WHERE thread_id = OLD.thread_id AND id != OLD.id AND deleted = false\n                    )\n                    UPDATE operation_thread\n                    SET \n                        comment_count = (SELECT remaining_count FROM stats),\n                        rating_count = (SELECT rating_count FROM stats),\n                        rating_sum = (SELECT rating_sum FROM stats),\n                        rating_avg = CASE\n                            WHEN (SELECT rating_count FROM stats) > 0 THEN\n                                (SELECT rating_sum FROM stats)::numeric / (SELECT rating_count FROM stats)\n                            ELSE 0\n                        END\n                    WHERE id = OLD.thread_id;\n\n                    RETURN OLD;\n                END;\n            ", hash='4eeb4b235e9d8aea4926e699dde0f31f9fe3540a', operation='DELETE', pgid='pgtrigger_operation_comment_delete_b7576', table='operation_comment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='comment',
            trigger=pgtrigger.compiler.Trigger(name='operation_comment_update', sql=pgtrigger.compiler.UpsertTriggerSql(func="\n                BEGIN\n                    IF NOT EXISTS (SELECT 1 FROM operation_thread WHERE id = NEW.thread_id) THEN\n                        RAISE EXCEPTION 'Thread ID % does not exist', NEW.thread_id;\n                    END IF;\n\n                    IF NEW.thread_id != OLD.thread_id THEN\n                        RAISE EXCEPTION 'Cannot change thread_id of a comment';\n                    END IF;\n\n                    WITH stats AS (\n                        SELECT\n                            COUNT(*) FILTER (WHERE id != OLD.id AND NOT deleted) + \n                                (NOT NEW.deleted)::int AS total_count,\n                            COUNT(*) FILTER (WHERE id != OLD.id AND rating IS NOT NULL AND rating > 0 AND NOT deleted) + \n                                (NEW.rating IS NOT NULL AND NEW.rating > 0 AND NOT NEW.deleted)::int AS rating_count,\n                            COALESCE(SUM(rating) FILTER (WHERE id != OLD.id AND rating IS NOT NULL AND rating > 0 AND NOT deleted), 0) + \n                                CASE WHEN NEW.rating IS NOT NULL AND NEW.rating > 0 AND NOT NEW.deleted THEN NEW.rating ELSE 0 END AS rating_sum\n                        FROM operation_comment\n                        WHERE thread_id = NEW.thread_id\n                    )\n                    UPDATE operation_thread\n                    SET \n                        comment_count = (SELECT total_count FROM stats),\n                        rating_count = (SELECT rating_count FROM stats),\n                        rating_sum = (SELECT rating_sum FROM stats),\n                        rating_avg = CASE\n                            WHEN (SELECT rating_count FROM stats) > 0 THEN\n                                (SELECT rating_sum FROM stats)::numeric / (SELECT rating_count FROM stats)\n                            ELSE 0\n                        END\n                    WHERE id = NEW.thread_id;\n\n                    RETURN NEW;\n                END;\n            ", hash='9213b6d5a0a940702ae452778c149f5af9a23962', operation='UPDATE', pgid='pgtrigger_operation_comment_update_ee7b1', table='operation_comment', when='AFTER')),
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='threadevent',
            trigger=pgtrigger.compiler.Trigger(name='append_only', sql=pgtrigger.compiler.UpsertTriggerSql(func="RAISE EXCEPTION 'pgtrigger: Cannot update or delete rows from % table', TG_TABLE_NAME;", hash='bbe5ca7dde3db672af3feed5726c864831484a2c', operation='UPDATE OR DELETE', pgid='pgtrigger_append_only_06c36', table='operation_threadevent', when='BEFORE')),
        ),
    ]
